<template>
    <div>
      <ul>
        <li>
          <h2>{{ product.name }}</h2>
          <p>Price: {{ product.price }}</p>
          <p><img :src="getImg(product.img1)"/></p>
          <p>Description: {{ product.description }}</p>
          <p>Category: {{ product.parentCategory }}</p>
        </li>
      </ul>
    </div>
</template>
  
  

<script>
    import axios from 'axios';

    export default {
        // created() {
        //     axios.get('https://rest.tsotan.mn/product/list/${id}')
        //         .then(response => {
        //         this.productList = response.data;
        //         })
        //         .catch(error => {
        //         console.error(error);
        //     });
        // },
        //
        // data() {
        //     return {
        //         productList: []
        //     };
        // },


        props: ["product", "layout"],

        methods: {
          // getImgUrl() {
          //   return this.product.imgUrl;
          // },
            addToCart(product) {
                const prod = {...product, cartQuantity: 1}
                // for notification
                if (this.$store.state.cart.find(el => product.id === el.id)) {
                    this.$notify({ title: 'Already added to cart update with one' })
                } else {
                    this.$notify({ title: 'Add to cart successfully!'})
                }

                this.$store.dispatch('addToCartItem', prod)
            },

            onClick(product) {
                this.$modal.show('quickview', product);
            },

          getImg(imgUrl) {
            console.log(imgUrl)
            return imgUrl;
          },
        },
    };
</script>